\documentclass[11pt]{article}

\input{preamble}
\input{macros}
\input{glossary}

\begin{document}

\begin{titlepage}
    \centering
    \null
    \vspace{\stretch{1}}
    
    {\huge \textbf{Multi-Agent Path Optimization\\using Calculus of Variations}\par}
    \vspace{5mm}
    {\Large \large Course Project\par
    MATH 146 --- Methods of Applied Mathematics\par}
    \vspace{5mm}
    {\large \textbf{Author:} Robert Lee and Vedant Yogishwar\par
    \textbf{Instructor:} Dr. Shiba Biswal\par}
    
    \vspace{\stretch{2}}
    
    {\large \today\par}
\end{titlepage}

\clearpage

\tableofcontents

\clearpage

\begin{abstract}
\lipsum[1-2]
\end{abstract}

\clearpage

\printunsrtglossary[type=symbols,style=long,title={List of Symbols}]

\section{Introduction}

\section{Theory}

\subsection{Problem Definition}

\textcolor{red}{Add description of problem here.}

Let \(\p_i \in C^1([0,1])^2\) be the vector valued function corresponding to the path of the \(i\)-th robot. Then we have that \(\p_i(0) = \x_i\) and \(\p_i(1) = \y_i\). The length of the path is defined as
\begin{equation}
    l_i = \int_0^1 \norm{\p_i'(t)}^2 dt.
\end{equation}

\subsection{Objective Function}

We wish to minimize the total length of all robot paths. Define \(F\) as the total path length
\begin{equation}
    F(P) = \int_0^1 \sum_{i=1}^{N} \norm{\p_i'(t)}^2 dt,
\end{equation}
where \(P = [\p_1, \ldots, \p_N]^\intercal\) is the path ensemble.

We will modify the objective function in order to represent the no-collision and obstacle constraints. As an example, consider the obstacle constraint. In order to check whether or not a robot collides with an obstacle, a function \(g\) can be defined such that it evaluates to infinity if the distance between the robot and the center of the obstacle is less than \(R\) and evaluates to 0 when not. However, \(g\) would be discontinuous and forbid the use of calculus of variations techniques.

A barrier function \(g_{d,\mu}\) is a continuous function that goes to infinity as it approaches a ``barrier'' value \(d\). A parameter \(\mu\) can be varied in order for \(g\) to approach the discontinuous form. In this case, we wish to devise a function that goes to infinity when approached from above to act as a repulsor. In this project, we will consider two types of barrier functions
\begin{enumerate}
    \item Log function:
    \begin{equation}
        g_{d,\mu}(x) = \frac{-1}{\mu} \log(x-d),
        \quad
        g'_{d,\mu}(x) = \frac{-1}{\mu(x-d)}.
    \end{equation}
    \item Inverse function:
    \begin{equation}
        g_{d,\mu}(x) = \frac{1}{\mu(x-d)},
        \quad
        g'_{d,\mu}(x) = \frac{-1}{\mu(x-d)^2}.
    \end{equation}
\end{enumerate}

Using this barrier function we can rewrite \(F\) as
\begin{equation}
    F(P) = \int_0^1 \left[ \sum_{i=1}^{N} \norm{\p'_i(t)}^2 + \sum_{i,j = 1; i \neq j}^{N} g_{r,\mu_1}\left( \norm{\p_i(t) - \p_j(t)}^2 \right) + \sum_{i=1}^{N} \sum_{j=1}^{M} g_{R,\mu_2}\left( \norm{\p_i(t) - \c_j}^2 \right) \right] dt,
\end{equation}
and the optimization problem becomes an unconstrained optimization problem.

\subsection{First-Order Necessary Conditions}

To derive first-order necessary condition, we first identify the Lagrangian \(L\),
\begin{equation}
    L(Y,Z) = \sum_{i=1}^{N} \norm{\z_i}^2 + \sum_{i,j = 1; i \neq j}^{N} g_{r,\mu_1}\left( \norm{\y_i - \y_j}^2 \right) + \sum_{i=1}^{N} \sum_{j=1}^{M} g_{R,\mu_2}\left( \norm{\y_i - \c_j}^2 \right).
\end{equation}
Applying the Euler--Lagrange equation w.r.t.\ the \(x\)-component of the \(i\)-th robot,
\begin{equation}
    \frac{d}{dt}\left(\p'_{i,x}\right) = \sum_{j \neq i} g'_{r,\mu_1}\left( \norm{\p_i - \p_j}^2 \right) (\p_{i,x} - \p_{j,x}) + \sum_{j=1}^{M} g'_{R,\mu_2}\left( \norm{\p_i - \c_j}^2 \right) (\p_{i,x} - \c_{j,x}).
    \label{eq:EL}
\end{equation}
An analogous equation can be derived w.r.t.\ its \(y\)-component by replacing \(x\) with \(y\).

\subsection{Differential Equation}

The Euler-Lagrange equation derived in \Cref{eq:EL} provides a system of differential equations that govern the motion of each robot's path.


\section{Cases}

\section{Results}

\section{Discussion}

\section{Conclusion}

\section{Acknowledgements}

\begin{appendices}

\section{MATLAB Code}

\end{appendices}

\end{document}

